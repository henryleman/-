<!DOCTYPE html>
<html>
<head>
  <title>Tool PhÃ¢n TÃ­ch TÃ i Xá»‰u</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f8f8f8; }
    h2 { text-align: center; }
    .buttons { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px; }
    button { flex: 1 1 30%; padding: 12px; font-size: 16px; border: none; border-radius: 6px; cursor: pointer; }
    .tai { background: #e67e22; color: white; }
    .xiu { background: #2980b9; color: white; }
    .clear { background: #7f8c8d; color: white; flex: 1 1 100%; }
    #sequence { margin: 10px 0; font-size: 18px; text-align: center; }
    #output { font-weight: bold; background: white; padding: 15px; border-radius: 10px; }
  </style>
</head>
<body>
  <h2>ğŸ² Tool TÃ i Xá»‰u (PhÃ¢n tÃ­ch & Dá»± Ä‘oÃ¡n)</h2>

  <div class="buttons">
    <button class="tai" onclick="addResult('TÃ i')">ğŸŸ  TÃ i</button>
    <button class="xiu" onclick="addResult('Xá»‰u')">ğŸ”µ Xá»‰u</button>
    <button class="clear" onclick="clearData()">ğŸ—‘ï¸ XÃ³a</button>
  </div>

  <div id="sequence">Chuá»—i: (trá»‘ng)</div>
  <div id="output"></div>

  <script>
    let results = [];

    function updateDisplay() {
      const total = results.length;
      const countTai = results.filter(r => r === 'TÃ i').length;
      const countXiu = results.filter(r => r === 'Xá»‰u').length;

      const percentTai = total ? ((countTai / total) * 100).toFixed(1) : 0;
      const percentXiu = total ? ((countXiu / total) * 100).toFixed(1) : 0;

      const sequenceText = results.join(' ') || "(trá»‘ng)";
      document.getElementById("sequence").innerText = "Chuá»—i: " + sequenceText;

      // Soi xu hÆ°á»›ng gáº§n nháº¥t
      let trend = "KhÃ´ng rÃµ xu hÆ°á»›ng";
      if (total >= 3) {
        let last3 = results.slice(-3);
        if (last3.every(r => r === 'TÃ i')) trend = "Äang chuá»—i TÃ i ğŸ”¥";
        else if (last3.every(r => r === 'Xá»‰u')) trend = "Äang chuá»—i Xá»‰u â„ï¸";
        else if (last3.join('') === 'TÃ iXá»‰uTÃ i') trend = "CÃ³ thá»ƒ lÃ  Xá»‰u tiáº¿p?";
        else if (last3.join('') === 'Xá»‰uTÃ iXá»‰u') trend = "CÃ³ thá»ƒ lÃ  TÃ i tiáº¿p?";
      }

      // Dá»± Ä‘oÃ¡n
      let predict = "";
      if (countTai > countXiu) predict = "ğŸ”® Dá»± Ä‘oÃ¡n: TÃ i ğŸŸ ";
      else if (countXiu > countTai) predict = "ğŸ”® Dá»± Ä‘oÃ¡n: Xá»‰u ğŸ”µ";
      else predict = "ğŸ”® Dá»± Ä‘oÃ¡n: KhÃ³ Ä‘oÃ¡n âšª";

      document.getElementById("output").innerHTML = `
        ğŸ¯ Tá»•ng vÃ¡n: ${total}<br>
        ğŸŸ  TÃ i: ${countTai} (${percentTai}%)<br>
        ğŸ”µ Xá»‰u: ${countXiu} (${percentXiu}%)<br><br>
        ğŸ“ˆ ${trend}<br>
        ğŸ’¡ ${predict}
      `;
    }

    function addResult(value) {
      results.push(value);
      updateDisplay();
    }

    function clearData() {
      results = [];
      updateDisplay();
    }

    updateDisplay();
  </script>
</body>
</html>
